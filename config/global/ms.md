| Name | Desc | Level | Type | non-Daemon Default | Daemon Default | Min | Max | Valid Values | verbatim | See also | Flags | Services | Validator | Long Desc | Tags |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| <span id="SP_ms_async_op_threads">ms_async_op_threads</span> |  Threadpool size for AsyncMessenger (ms_type=async) | Advanced | Uint | 3 |  | 1 | 24 |  |  |  |  |  |  |  |  |
| <span id="SP_ms_async_rdma_buffer_size">ms_async_rdma_buffer_size</span> |   | Advanced | Size | 128_K |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_async_rdma_cm">ms_async_rdma_cm</span> |   | Advanced | Bool | False |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_async_rdma_device_name">ms_async_rdma_device_name</span> |   | Advanced | Str |  |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_async_rdma_dscp">ms_async_rdma_dscp</span> |   | Advanced | Int | 96 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_async_rdma_enable_hugepage">ms_async_rdma_enable_hugepage</span> |   | Advanced | Bool | False |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_async_rdma_gid_idx">ms_async_rdma_gid_idx</span> |  use gid_idx to select GID for choosing RoCEv1 or RoCEv2 | Advanced | Int | 0 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_async_rdma_local_gid">ms_async_rdma_local_gid</span> |   | Advanced | Str |  |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_async_rdma_polling_us">ms_async_rdma_polling_us</span> |   | Advanced | Uint | 1000 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_async_rdma_port_num">ms_async_rdma_port_num</span> |   | Advanced | Uint | 1 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_async_rdma_receive_buffers">ms_async_rdma_receive_buffers</span> |   | Advanced | Uint | 32_K |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_async_rdma_receive_queue_len">ms_async_rdma_receive_queue_len</span> |   | Advanced | Uint | 4_K |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_async_rdma_roce_ver">ms_async_rdma_roce_ver</span> |   | Advanced | Int | 1 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_async_rdma_send_buffers">ms_async_rdma_send_buffers</span> |   | Advanced | Uint | 1_K |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_async_rdma_sl">ms_async_rdma_sl</span> |   | Advanced | Int | 3 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_async_rdma_support_srq">ms_async_rdma_support_srq</span> |   | Advanced | Bool | True |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_async_rdma_type">ms_async_rdma_type</span> |   | Advanced | Str | ib |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_async_reap_threshold">ms_async_reap_threshold</span> |  number of deleted connections before we reap | Dev | Uint | 5 |  | 1 |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_bind_before_connect">ms_bind_before_connect</span> |  Call bind(2) on client sockets | Advanced | Bool | False |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_bind_ipv4">ms_bind_ipv4</span> |  Bind servers to IPv4 address(es) | Advanced | Bool | True |  |  |  |  |  | [[ms_bind_ipv6](~/global/ms.md#SP_ms_bind_ipv6)] |  |  |  |  |  |
| <span id="SP_ms_bind_ipv6">ms_bind_ipv6</span> |  Bind servers to IPv6 address(es) | Advanced | Bool | False |  |  |  |  |  | [[ms_bind_ipv4](~/global/ms.md#SP_ms_bind_ipv4)] |  |  |  |  |  |
| <span id="SP_ms_bind_msgr1">ms_bind_msgr1</span> |  Bind servers to msgr1 (legacy) protocol address(es) | Advanced | Bool | True |  |  |  |  |  | [[ms_bind_msgr2](~/global/ms.md#SP_ms_bind_msgr2)] |  |  |  |  |  |
| <span id="SP_ms_bind_msgr2">ms_bind_msgr2</span> |  Bind servers to msgr2 (nautilus+) protocol address(es) | Advanced | Bool | True |  |  |  |  |  | [[ms_bind_msgr1](~/global/ms.md#SP_ms_bind_msgr1)] |  |  |  |  |  |
| <span id="SP_ms_bind_port_max">ms_bind_port_max</span> |  Highest port number to bind daemon(s) to | Advanced | Int | 7568 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_bind_port_min">ms_bind_port_min</span> |  Lowest port number to bind daemon(s) to | Advanced | Int | 6800 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_bind_prefer_ipv4">ms_bind_prefer_ipv4</span> |  Prefer IPV4 over IPV6 address(es) | Advanced | Bool | False |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_bind_retry_count">ms_bind_retry_count</span> |  Number of attempts to make while bind(2)ing to a port | Advanced | Int | ms_bind_retry_count |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_bind_retry_delay">ms_bind_retry_delay</span> |  Delay between bind(2) attempts (seconds) | Advanced | Int | ms_bind_retry_delay |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_blackhole_client">ms_blackhole_client</span> |   | Dev | Bool | False |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_blackhole_mds">ms_blackhole_mds</span> |   | Dev | Bool | False |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_blackhole_mgr">ms_blackhole_mgr</span> |   | Dev | Bool | False |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_blackhole_mon">ms_blackhole_mon</span> |   | Dev | Bool | False |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_blackhole_osd">ms_blackhole_osd</span> |   | Dev | Bool | False |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_client_mode">ms_client_mode</span> |  Connection modes (crc, secure) for connections from clients in order of preference | Basic | Str | crc secure |  |  |  |  |  | [[ms_cluster_mode](~/global/ms.md#SP_ms_cluster_mode), [ms_service_mode](~/global/ms.md#SP_ms_service_mode)] | STARTUP |  |  |  |  |
| <span id="SP_ms_cluster_mode">ms_cluster_mode</span> |  Connection modes (crc, secure) for intra-cluster connections in order of preference | Basic | Str | crc secure |  |  |  |  |  | [[ms_service_mode](~/global/ms.md#SP_ms_service_mode), [ms_client_mode](~/global/ms.md#SP_ms_client_mode)] | STARTUP |  |  |  |  |
| <span id="SP_ms_cluster_type">ms_cluster_type</span> |  Messenger implementation to use for the internal cluster network | Advanced | Str |  |  |  |  |  |  | [[ms_type](~/global/ms.md#SP_ms_type)] | STARTUP |  |  | If not specified, use ms_type |  |
| <span id="SP_ms_compress_secure">ms_compress_secure</span> |  Allowing compression when on-wire encryption is enabled | Advanced | Bool | False |  |  |  |  |  | [[ms_osd_compress_mode](~/global/ms.md#SP_ms_osd_compress_mode)] | RUNTIME |  |  | Combining encryption with compression reduces the level of security of messages between peers. In case both encryption and compression are enabled, compression setting will be ignored and message will not be compressed. This behaviour can be override using this setting. |  |
| <span id="SP_ms_connection_idle_timeout">ms_connection_idle_timeout</span> |  Time before an idle connection is closed (seconds) | Advanced | Uint | 900 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_connection_ready_timeout">ms_connection_ready_timeout</span> |  Time before we declare a not yet ready connection as dead (seconds) | Advanced | Uint | 10 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_crc_data">ms_crc_data</span> |  Set and/or verify crc32c checksum on data payload sent over network | Dev | Bool | True |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_crc_header">ms_crc_header</span> |  Set and/or verify crc32c checksum on header payload sent over network | Dev | Bool | True |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_die_on_bad_msg">ms_die_on_bad_msg</span> |  Induce a daemon crash/exit when a bad network message is received | Dev | Bool | False |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_die_on_bug">ms_die_on_bug</span> |  Induce a crash/exit on various bugs (for testing purposes) | Dev | Bool | False |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_die_on_old_message">ms_die_on_old_message</span> |  Induce a daemon crash/exit when a old, undecodable message is received | Dev | Bool | False |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_die_on_skipped_message">ms_die_on_skipped_message</span> |  Induce a daemon crash/exit if sender skips a message sequence number | Dev | Bool | False |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_die_on_unhandled_msg">ms_die_on_unhandled_msg</span> |  Induce a daemon crash/exit when an unrecognized message is received | Dev | Bool | False |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_dispatch_throttle_bytes">ms_dispatch_throttle_bytes</span> |  Limit messages that are read off the network but still being processed | Advanced | Size | 100_M |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_dpdk_coremask">ms_dpdk_coremask</span> |   | Advanced | Str | 0xF |  |  |  |  |  | [[ms_async_op_threads](~/global/ms.md#SP_ms_async_op_threads)] |  |  |  |  |  |
| <span id="SP_ms_dpdk_debug_allow_loopback">ms_dpdk_debug_allow_loopback</span> |   | Dev | Bool | False |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_dpdk_devs_allowlist">ms_dpdk_devs_allowlist</span> |  NIC's PCIe address are allowed to use | Advanced | Str |  |  |  |  |  |  |  |  |  |  | for a single NIC use ms_dpdk_devs_allowlist=-a 0000:7d:010 or --allow=0000:7d:010; for a bond nics use ms_dpdk_devs_allowlist=--allow=0000:7d:01.0 --allow=0000:7d:02.6 --vdev=net_bonding0,mode=2,slave=0000:7d:01.0,slave=0000:7d:02.6. |  |
| <span id="SP_ms_dpdk_enable_tso">ms_dpdk_enable_tso</span> |   | Advanced | Bool | True |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_dpdk_gateway_ipv4_addr">ms_dpdk_gateway_ipv4_addr</span> |   | Advanced | Str |  |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_dpdk_host_ipv4_addr">ms_dpdk_host_ipv4_addr</span> |   | Advanced | Str |  |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_dpdk_hugepages">ms_dpdk_hugepages</span> |   | Advanced | Str |  |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_dpdk_hw_flow_control">ms_dpdk_hw_flow_control</span> |   | Advanced | Bool | True |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_dpdk_hw_queue_weight">ms_dpdk_hw_queue_weight</span> |   | Advanced | Float | 1 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_dpdk_lro">ms_dpdk_lro</span> |   | Advanced | Bool | True |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_dpdk_memory_channel">ms_dpdk_memory_channel</span> |   | Advanced | Str | 4 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_dpdk_netmask_ipv4_addr">ms_dpdk_netmask_ipv4_addr</span> |   | Advanced | Str |  |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_dpdk_pmd">ms_dpdk_pmd</span> |   | Advanced | Str |  |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_dpdk_port_id">ms_dpdk_port_id</span> |   | Advanced | Int | 0 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_dpdk_rx_buffer_count_per_core">ms_dpdk_rx_buffer_count_per_core</span> |   | Advanced | Int | 8192 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_dump_corrupt_message_level">ms_dump_corrupt_message_level</span> |  Log level at which to hexdump corrupt messages we receive | Advanced | Int | 1 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_dump_on_send">ms_dump_on_send</span> |  Hexdump message to debug log on message send | Advanced | Bool | False |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_initial_backoff">ms_initial_backoff</span> |  Initial backoff after a network error is detected (seconds) | Advanced | Float | 0.2 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_inject_delay_max">ms_inject_delay_max</span> |  Max delay to inject | Dev | Float | 1 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_inject_delay_probability">ms_inject_delay_probability</span> |   | Dev | Float | 0 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_inject_delay_type">ms_inject_delay_type</span> |  Entity type to inject delays for | Dev | Str |  |  |  |  |  |  |  | RUNTIME |  |  |  |  |
| <span id="SP_ms_inject_internal_delays">ms_inject_internal_delays</span> |  Inject various internal delays to induce races (seconds) | Dev | Float | 0 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_inject_network_congestion">ms_inject_network_congestion</span> |  Inject a network congestions that stuck with N times operations | Dev | Uint | 0 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_inject_socket_failures">ms_inject_socket_failures</span> |  Inject a socket failure every Nth socket operation | Dev | Uint | 0 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_learn_addr_from_peer">ms_learn_addr_from_peer</span> |  Learn address from what IP our first peer thinks we connect from | Advanced | Bool | True |  |  |  |  |  |  |  |  |  | Use the IP address our first peer (usually a monitor) sees that we are connecting from.  This is useful if a client is behind some sort of NAT and we want to see it identified by its local (not NATed) address. |  |
| <span id="SP_ms_max_accept_failures">ms_max_accept_failures</span> |  The maximum number of consecutive failed accept() calls before considering the daemon is misconfigured and abort it. | Advanced | Int | 4 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_max_backoff">ms_max_backoff</span> |  Maximum backoff after a network error before retrying (seconds) | Advanced | Float | 15 |  |  |  |  |  | [[ms_initial_backoff](~/global/ms.md#SP_ms_initial_backoff)] |  |  |  |  |  |
| <span id="SP_ms_mon_client_mode">ms_mon_client_mode</span> |  Connection modes (crc, secure) for connections from clients to monitors in order of preference | Basic | Str | secure crc |  |  |  |  |  | [[ms_mon_service_mode](~/global/ms.md#SP_ms_mon_service_mode), [ms_mon_cluster_mode](~/global/ms.md#SP_ms_mon_cluster_mode), [ms_service_mode](~/global/ms.md#SP_ms_service_mode), [ms_cluster_mode](~/global/ms.md#SP_ms_cluster_mode), [ms_client_mode](~/global/ms.md#SP_ms_client_mode)] | STARTUP |  |  |  |  |
| <span id="SP_ms_mon_cluster_mode">ms_mon_cluster_mode</span> |  Connection modes (crc, secure) for intra-mon connections in order of preference | Basic | Str | secure crc |  |  |  |  |  | [[ms_mon_service_mode](~/global/ms.md#SP_ms_mon_service_mode), [ms_mon_client_mode](~/global/ms.md#SP_ms_mon_client_mode), [ms_service_mode](~/global/ms.md#SP_ms_service_mode), [ms_cluster_mode](~/global/ms.md#SP_ms_cluster_mode), [ms_client_mode](~/global/ms.md#SP_ms_client_mode)] | STARTUP |  |  |  |  |
| <span id="SP_ms_mon_service_mode">ms_mon_service_mode</span> |  Allowed connection modes (crc, secure) for connections to mons | Basic | Str | secure crc |  |  |  |  |  | [[ms_service_mode](~/global/ms.md#SP_ms_service_mode), [ms_mon_cluster_mode](~/global/ms.md#SP_ms_mon_cluster_mode), [ms_mon_client_mode](~/global/ms.md#SP_ms_mon_client_mode), [ms_cluster_mode](~/global/ms.md#SP_ms_cluster_mode), [ms_client_mode](~/global/ms.md#SP_ms_client_mode)] | STARTUP |  |  |  |  |
| <span id="SP_ms_osd_compress_min_size">ms_osd_compress_min_size</span> |  Minimal message size eligable for on-wire compression | Advanced | Uint | 1_K |  |  |  |  |  | [[ms_osd_compress_mode](~/global/ms.md#SP_ms_osd_compress_mode)] | RUNTIME | osd |  |  |  |
| <span id="SP_ms_osd_compress_mode">ms_osd_compress_mode</span> |  Compression policy to use in Messenger for communicating with OSD | Advanced | Str | none |  |  |  | ["none", "force"] |  | [[ms_compress_secure](~/global/ms.md#SP_ms_compress_secure)] | RUNTIME | osd |  |  |  |
| <span id="SP_ms_osd_compression_algorithm">ms_osd_compression_algorithm</span> |  Compression algorithm to use in Messenger when communicating with OSD | Advanced | Str | snappy zlib zstd lz4 |  |  |  |  |  | [[ms_osd_compress_mode](~/global/ms.md#SP_ms_osd_compress_mode)] | RUNTIME | osd |  | Compression algorithm for connections with OSD in order of preference |  |
| <span id="SP_ms_pq_max_tokens_per_priority">ms_pq_max_tokens_per_priority</span> |   | Dev | Uint | 16_M |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_pq_min_cost">ms_pq_min_cost</span> |   | Dev | Size | 64_K |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_public_type">ms_public_type</span> |  Messenger implementation to use for the public network | Advanced | Str |  |  |  |  |  |  | [[ms_type](~/global/ms.md#SP_ms_type)] | STARTUP |  |  | If not specified, use ms_type |  |
| <span id="SP_ms_service_mode">ms_service_mode</span> |  Allowed connection modes (crc, secure) for connections to daemons | Basic | Str | crc secure |  |  |  |  |  | [[ms_cluster_mode](~/global/ms.md#SP_ms_cluster_mode), [ms_client_mode](~/global/ms.md#SP_ms_client_mode)] | STARTUP |  |  |  |  |
| <span id="SP_ms_tcp_listen_backlog">ms_tcp_listen_backlog</span> |  Size of queue of incoming connections for accept(2) | Advanced | Int | 512 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_tcp_nodelay">ms_tcp_nodelay</span> |  Disable Nagle's algorithm and send queued network traffic immediately | Advanced | Bool | True |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_tcp_prefetch_max_size">ms_tcp_prefetch_max_size</span> |  Maximum amount of data to prefetch out of the socket receive buffer | Advanced | Size | 4_K |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_tcp_rcvbuf">ms_tcp_rcvbuf</span> |  Size of TCP socket receive buffer | Advanced | Size | 0 |  |  |  |  |  |  |  |  |  |  |  |
| <span id="SP_ms_type">ms_type</span> |  Messenger implementation to use for network communication | Advanced | Str | async+posix |  |  |  |  |  |  | STARTUP |  |  |  |  |
